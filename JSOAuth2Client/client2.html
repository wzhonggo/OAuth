<!doctype html>
<head>
    <meta charset="utf-8">

    <title>oauth2 client2</title>

    <!-- All JavaScript at the bottom, except this Modernizr build.
             Modernizr enables HTML5 elements & feature detects for optimal performance.
             Create your own custom Modernizr build: www.modernizr.com/download/ -->

    <script src="js/libs/json2.js"></script>
    <!-- https://github.com/wojodesign/local-storage-js -->
    <script src="js/libs/localstorage.js"></script>
    <script src="js/libs/modernizr-2.5.3.min.js"></script>
    <script src="js/libs/jquery.min.js"></script>

    <script src="js/libs/jso.js"></script>
    <script src="js/libs/oauth.js"></script>
    <script src="config.js"></script>
   <!-- <script type="text/javascript">
        $(document).ready(function () {


            // Add configuration for one or more providers.
            jso_configure({
                "liferay": {
                    client_id: "e4fe51d7-0f56-4a5d-a426-233d0f87dc88",
                    redirect_uri: "http://127.0.0.1:9000/client2.html",
                    authorization: "https://127.0.0.1/delegate/authorize",
//					authorization: "http://127.0.0.1/delegate/authorize",
                    scope: ["basic", "likes"],
                    isDefault: true
                }
            });


//			if (!confirm('Continue')) return;

            // Make sure that you have
            jso_ensureTokens({
                "liferay": ["basic", "likes"]
            });

            // This dumps all cached tokens to console, for easyer debugging.
            jso_dump();


            $.oajax({
                url: "https://127.0.0.1/delegate/userinfo",
//                url: "http://127.0.0.1/delegate/userinfo",
                jso_provider: "liferay",
//                jso_allowia: true,
                jso_allowia: false,
                jso_scopes: ["basic", "likes"], //(OPTIONAL)
                dataType: 'json',
                success: function (data) {
                    console.log("Response (liferay):");
                    console.log(data);
                    $("#userinfo").html(JSON.stringify(data));

                },
                error: function (jqXHR, textStatus, errorThrown) {
                    console.log("==============error==============");
                    console.log(jqXHR);
                    console.log(textStatus);
                    console.log(errorThrown);
                    $("#userinfo").html(jqXHR.responseText);
                }
            });

            // clear all provider access token
//			jso_wipe();

            // cleaer all lcoalStorage data
//                localStorage.clear();
        });
    </script>-->


    <script type="text/javascript">
            $(document).ready(function () {

//			if (!confirm('Continue')) return;

            var data ={};
            data.abc = "123123123";
            $.oauth({
                config:Config,
                url: "https://127.0.0.1/oauth2/userinfo",
                type:"POST",
                data:data,
                success: function (data) {
                    console.log("Response (liferay):");
                    console.log(data);
                    $("#userinfo").html(JSON.stringify(data));

                },
                error: function (jqXHR, textStatus, errorThrown) {
                    console.log("==============error==============");
                    console.log(jqXHR);
                    console.log(textStatus);
                    console.log(errorThrown);
                    $("#userinfo").html(jqXHR.responseText);
                }
            });
        });
    </script>


</head>
<body>

<div id="userinfo">

</div>

</body>
</html>